{
    "_comment": "LinuxShellExecutor v0.4.0 - é¢„è®¾è¯Šæ–­å‘½ä»¤é›†",
    "_version": "0.4.0",
    "_description": "å¸¸ç”¨è¿ç»´è¯Šæ–­å‘½ä»¤çš„é¢„è®¾é›†åˆï¼Œæ”¯æŒå‚æ•°åŒ–å’Œæ‰¹é‡æ‰§è¡Œ",
    
    "presets": {
        "quickDiag": {
            "description": "å¿«é€Ÿç³»ç»Ÿè¯Šæ–­ - ä¸€é”®è·å–ç³»ç»Ÿæ¦‚å†µ",
            "category": "system",
            "securityLevel": "read",
            "commands": [
                "echo '=== ç³»ç»Ÿä¿¡æ¯ ===' && uname -a",
                "echo '=== å†…å­˜ä½¿ç”¨ ===' && free -h",
                "echo '=== ç£ç›˜ä½¿ç”¨ ===' && df -h",
                "echo '=== ç³»ç»Ÿè´Ÿè½½ ===' && uptime",
                "echo '=== Top 10 å†…å­˜è¿›ç¨‹ ===' && ps aux --sort=-%mem | head -11",
                "echo '=== Top 10 CPU è¿›ç¨‹ ===' && ps aux --sort=-%cpu | head -11"
            ],
            "outputFormat": "merged",
            "timeout": 30000
        },
        
        "checkService": {
            "description": "æ£€æŸ¥æœåŠ¡çŠ¶æ€ - æŸ¥çœ‹æŒ‡å®šæœåŠ¡çš„è¿è¡ŒçŠ¶æ€å’Œæœ€è¿‘æ—¥å¿—",
            "category": "service",
            "securityLevel": "read",
            "params": {
                "serviceName": {
                    "required": true,
                    "description": "æœåŠ¡åç§°",
                    "example": "nginx"
                },
                "logLines": {
                    "required": false,
                    "default": 50,
                    "description": "æ—¥å¿—è¡Œæ•°"
                }
            },
            "commands": [
                "echo '=== æœåŠ¡çŠ¶æ€ ===' && systemctl status ${serviceName} --no-pager",
                "echo '=== æœ€è¿‘æ—¥å¿— (${logLines} è¡Œ) ===' && journalctl -u ${serviceName} --no-pager -n ${logLines}"
            ],
            "outputFormat": "merged",
            "timeout": 30000
        },
        
        "netDiag": {
            "description": "ç½‘ç»œè¯Šæ–­ - æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œç«¯å£çŠ¶æ€",
            "category": "network",
            "securityLevel": "read",
            "commands": [
                "echo '=== ç›‘å¬ç«¯å£ ===' && ss -tlnp",
                "echo '=== è¿æ¥çŠ¶æ€ç»Ÿè®¡ ===' && ss -s",
                "echo '=== è·¯ç”±è¡¨ ===' && ip route",
                "echo '=== ç½‘ç»œæ¥å£ ===' && ip addr show",
                "echo '=== DNS é…ç½® ===' && cat /etc/resolv.conf 2>/dev/null || echo 'DNSé…ç½®ä¸å¯è¯»'"
            ],
            "outputFormat": "merged",
            "timeout": 30000
        },
        
        "checkDisk": {
            "description": "ç£ç›˜è¯¦ç»†æ£€æŸ¥ - ç£ç›˜ä½¿ç”¨å’Œå¤§æ–‡ä»¶åˆ†æ",
            "category": "storage",
            "securityLevel": "read",
            "commands": [
                "echo '=== ç£ç›˜ä½¿ç”¨æ¦‚å†µ ===' && df -h",
                "echo '=== ç£ç›˜ inode ä½¿ç”¨ ===' && df -i",
                "echo '=== æ ¹ç›®å½•å¤§å°åˆ†å¸ƒ ===' && du -sh /* 2>/dev/null | sort -hr | head -15",
                "echo '=== å—è®¾å¤‡ä¿¡æ¯ ===' && lsblk -f"
            ],
            "outputFormat": "merged",
            "timeout": 60000
        },
        
        "checkDocker": {
            "description": "Docker çŠ¶æ€æ£€æŸ¥ - å®¹å™¨å’Œé•œåƒçŠ¶æ€",
            "category": "container",
            "securityLevel": "read",
            "params": {
                "containerName": {
                    "required": false,
                    "default": "",
                    "description": "å®¹å™¨åç§°ï¼ˆå¯é€‰ï¼Œä¸å¡«åˆ™æ£€æŸ¥æ‰€æœ‰å®¹å™¨ï¼‰"
                }
            },
            "commands": [
                "echo '=== Docker ç‰ˆæœ¬ ===' && docker version --format '{{.Server.Version}}' 2>/dev/null || echo 'Docker æœªå®‰è£…æˆ–æ— æƒé™'",
                "echo '=== è¿è¡Œä¸­çš„å®¹å™¨ ===' && docker ps --format 'table {{.Names}}\t{{.Status}}\t{{.Ports}}' 2>/dev/null || echo 'æ— æ³•è·å–å®¹å™¨åˆ—è¡¨'",
                "echo '=== æ‰€æœ‰å®¹å™¨ ===' && docker ps -a --format 'table {{.Names}}\t{{.Status}}\t{{.Image}}' 2>/dev/null || echo 'æ— æ³•è·å–å®¹å™¨åˆ—è¡¨'",
                "echo '=== å®¹å™¨èµ„æºä½¿ç”¨ ===' && docker stats --no-stream --format 'table {{.Name}}\t{{.CPUPerc}}\t{{.MemUsage}}' ${containerName:-$(docker ps -q | head -5 | tr '\\n' ' ')} 2>/dev/null || echo 'æ— æ³•è·å–èµ„æºç»Ÿè®¡'"
            ],
            "outputFormat": "merged",
            "timeout": 60000
        },
        
        "checkLogs": {
            "description": "æ—¥å¿—æ£€æŸ¥ - æŸ¥çœ‹ç³»ç»Ÿå’Œåº”ç”¨æ—¥å¿—",
            "category": "logs",
            "securityLevel": "read",
            "params": {
                "logFile": {
                    "required": false,
                    "default": "/var/log/syslog",
                    "description": "æ—¥å¿—æ–‡ä»¶è·¯å¾„"
                },
                "lines": {
                    "required": false,
                    "default": 100,
                    "description": "æ˜¾ç¤ºè¡Œæ•°"
                },
                "keyword": {
                    "required": false,
                    "default": "",
                    "description": "è¿‡æ»¤å…³é”®è¯"
                }
            },
            "commands": [
                "echo '=== ç³»ç»Ÿæ—¥å¿— (æœ€è¿‘ ${lines} è¡Œ) ===' && tail -n ${lines} ${logFile} 2>/dev/null | grep -i '${keyword:-.*}' || echo 'æ—¥å¿—æ–‡ä»¶ä¸å­˜åœ¨æˆ–æ— æƒé™'",
                "echo '=== å†…æ ¸æ—¥å¿— ===' && dmesg -T 2>/dev/null | tail -20 || echo 'æ— æ³•è¯»å–å†…æ ¸æ—¥å¿—'"
            ],
            "outputFormat": "merged",
            "timeout": 30000
        },
        
        "checkSecurity": {
            "description": "å®‰å…¨æ£€æŸ¥ - ç™»å½•è®°å½•å’Œå®‰å…¨ç›¸å…³ä¿¡æ¯",
            "category": "security",
            "securityLevel": "read",
            "commands": [
                "echo '=== å½“å‰ç™»å½•ç”¨æˆ· ===' && w",
                "echo '=== æœ€è¿‘ç™»å½•è®°å½• ===' && last -n 20",
                "echo '=== å¤±è´¥ç™»å½•å°è¯• ===' && lastb -n 10 2>/dev/null || echo 'æ— æƒé™æŸ¥çœ‹å¤±è´¥ç™»å½•'",
                "echo '=== SSH è¿æ¥ ===' && ss -tnp | grep ':22' || echo 'æ—  SSH è¿æ¥'",
                "echo '=== ç›‘å¬çš„ç½‘ç»œæœåŠ¡ ===' && ss -tlnp"
            ],
            "outputFormat": "merged",
            "timeout": 30000
        },
        
        "checkPerformance": {
            "description": "æ€§èƒ½æ£€æŸ¥ - CPUã€å†…å­˜ã€IO è¯¦ç»†åˆ†æ",
            "category": "performance",
            "securityLevel": "read",
            "params": {
                "interval": {
                    "required": false,
                    "default": 1,
                    "description": "é‡‡æ ·é—´éš”ï¼ˆç§’ï¼‰"
                },
                "count": {
                    "required": false,
                    "default": 3,
                    "description": "é‡‡æ ·æ¬¡æ•°"
                }
            },
            "commands": [
                "echo '=== CPU ä¿¡æ¯ ===' && lscpu | grep -E 'Model name|CPU\\(s\\)|Thread|Core'",
                "echo '=== å†…å­˜è¯¦æƒ… ===' && free -h && echo '' && cat /proc/meminfo | head -10",
                "echo '=== vmstat (${count} æ¬¡é‡‡æ ·) ===' && vmstat ${interval} ${count}",
                "echo '=== iostat ===' && iostat -x 1 2 2>/dev/null || echo 'iostat æœªå®‰è£…'",
                "echo '=== è´Ÿè½½å†å² ===' && uptime && cat /proc/loadavg"
            ],
            "outputFormat": "merged",
            "timeout": 60000
        },
        
        "checkMysql": {
            "description": "MySQL çŠ¶æ€æ£€æŸ¥",
            "category": "database",
            "securityLevel": "safe",
            "params": {
                "host": {
                    "required": false,
                    "default": "localhost",
                    "description": "MySQL ä¸»æœº"
                },
                "user": {
                    "required": false,
                    "default": "root",
                    "description": "MySQL ç”¨æˆ·"
                }
            },
            "commands": [
                "echo '=== MySQL ç‰ˆæœ¬ ===' && mysql -h ${host} -u ${user} -e 'SELECT VERSION();' 2>/dev/null || echo 'MySQL è¿æ¥å¤±è´¥'",
                "echo '=== è¿æ¥æ•° ===' && mysql -h ${host} -u ${user} -e 'SHOW STATUS LIKE \"Threads_connected\";' 2>/dev/null || echo 'æ— æ³•è·å–'",
                "echo '=== è¿›ç¨‹åˆ—è¡¨ ===' && mysql -h ${host} -u ${user} -e 'SHOW PROCESSLIST;' 2>/dev/null || echo 'æ— æ³•è·å–'"
            ],
            "outputFormat": "merged",
            "timeout": 30000
        },
        
        "checkRedis": {
            "description": "Redis çŠ¶æ€æ£€æŸ¥",
            "category": "database",
            "securityLevel": "safe",
            "params": {
                "host": {
                    "required": false,
                    "default": "localhost",
                    "description": "Redis ä¸»æœº"
                },
                "port": {
                    "required": false,
                    "default": 6379,
                    "description": "Redis ç«¯å£"
                }
            },
            "commands": [
                "echo '=== Redis PING ===' && redis-cli -h ${host} -p ${port} PING 2>/dev/null || echo 'Redis è¿æ¥å¤±è´¥'",
                "echo '=== Redis INFO (Server) ===' && redis-cli -h ${host} -p ${port} INFO server 2>/dev/null || echo 'æ— æ³•è·å–'",
                "echo '=== Redis INFO (Memory) ===' && redis-cli -h ${host} -p ${port} INFO memory 2>/dev/null || echo 'æ— æ³•è·å–'",
                "echo '=== Redis DBSIZE ===' && redis-cli -h ${host} -p ${port} DBSIZE 2>/dev/null || echo 'æ— æ³•è·å–'"
            ],
            "outputFormat": "merged",
            "timeout": 30000
        },
        
        "checkNginx": {
            "description": "Nginx çŠ¶æ€æ£€æŸ¥",
            "category": "webserver",
            "securityLevel": "safe",
            "commands": [
                "echo '=== Nginx ç‰ˆæœ¬ ===' && nginx -v 2>&1",
                "echo '=== Nginx é…ç½®æµ‹è¯• ===' && nginx -t 2>&1",
                "echo '=== Nginx è¿›ç¨‹ ===' && ps aux | grep nginx | grep -v grep",
                "echo '=== Nginx ç›‘å¬ç«¯å£ ===' && ss -tlnp | grep nginx || echo 'æœªæ‰¾åˆ° Nginx ç›‘å¬'"
            ],
            "outputFormat": "merged",
            "timeout": 30000
        },
        
        "pingTest": {
            "description": "ç½‘ç»œè¿é€šæ€§æµ‹è¯•",
            "category": "network",
            "securityLevel": "read",
            "params": {
                "target": {
                    "required": true,
                    "description": "ç›®æ ‡ä¸»æœºæˆ–IP",
                    "example": "8.8.8.8"
                },
                "count": {
                    "required": false,
                    "default": 5,
                    "description": "ping æ¬¡æ•°"
                }
            },
            "commands": [
                "echo '=== Ping ${target} ===' && ping -c ${count} ${target}",
                "echo '=== DNS è§£æ ===' && dig +short ${target} 2>/dev/null || nslookup ${target} 2>/dev/null || echo 'DNS è§£æå¤±è´¥'",
                "echo '=== è·¯ç”±è¿½è¸ª ===' && traceroute -n -m 15 ${target} 2>/dev/null || echo 'traceroute ä¸å¯ç”¨'"
            ],
            "outputFormat": "merged",
            "timeout": 60000
        }
    },
    
    "categories": {
        "system": {
            "name": "ç³»ç»Ÿè¯Šæ–­",
            "description": "ç³»ç»Ÿæ•´ä½“çŠ¶æ€æ£€æŸ¥",
            "icon": "ğŸ–¥ï¸"
        },
        "service": {
            "name": "æœåŠ¡ç®¡ç†",
            "description": "ç³»ç»ŸæœåŠ¡çŠ¶æ€æ£€æŸ¥",
            "icon": "âš™ï¸"
        },
        "network": {
            "name": "ç½‘ç»œè¯Šæ–­",
            "description": "ç½‘ç»œè¿æ¥å’Œé…ç½®æ£€æŸ¥",
            "icon": "ğŸŒ"
        },
        "storage": {
            "name": "å­˜å‚¨æ£€æŸ¥",
            "description": "ç£ç›˜å’Œå­˜å‚¨çŠ¶æ€",
            "icon": "ğŸ’¾"
        },
        "container": {
            "name": "å®¹å™¨ç®¡ç†",
            "description": "Docker/K8s å®¹å™¨çŠ¶æ€",
            "icon": "ğŸ³"
        },
        "logs": {
            "name": "æ—¥å¿—æŸ¥çœ‹",
            "description": "ç³»ç»Ÿå’Œåº”ç”¨æ—¥å¿—",
            "icon": "ğŸ“‹"
        },
        "security": {
            "name": "å®‰å…¨æ£€æŸ¥",
            "description": "ç™»å½•å’Œå®‰å…¨ç›¸å…³",
            "icon": "ğŸ”’"
        },
        "performance": {
            "name": "æ€§èƒ½åˆ†æ",
            "description": "CPU/å†…å­˜/IO æ€§èƒ½",
            "icon": "ğŸ“Š"
        },
        "database": {
            "name": "æ•°æ®åº“",
            "description": "æ•°æ®åº“çŠ¶æ€æ£€æŸ¥",
            "icon": "ğŸ—„ï¸"
        },
        "webserver": {
            "name": "WebæœåŠ¡å™¨",
            "description": "Nginx/Apache çŠ¶æ€",
            "icon": "ğŸŒ"
        }
    },
    
    "globalSettings": {
        "defaultTimeout": 30000,
        "maxConcurrentCommands": 5,
        "outputSeparator": "\n" ,
        "errorHandling": "continue"
    }
}